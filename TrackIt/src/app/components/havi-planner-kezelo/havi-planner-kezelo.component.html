<div class="container">
  <!-- Bal oldali vez√©rl≈ëpanel -->
  <div class="left-panel">
    <button class="simple-button back-button" (click)="onBack()">‚¨ÖÔ∏è Vissza</button>
    <div class="info-box">
      <h3>Planner Kezel≈ë</h3>
      <p>Egyszer≈± esem√©nykezel≈ë napt√°r. Itt szerkesztheted, keresheted √©s rendszerezheted az esem√©nyeket.</p>
    </div>

    <div class="calendar-widget">
      <label for="calendar">D√°tumra ugr√°s:</label>
      <input type="date" id="calendar" [(ngModel)]="calendarDate" (change)="onCalendarChange()" />
    </div>

    <div class="quick-filters">
      <button class="simple-button" (click)="filterFutureEvents()">üîÆ J√∂v≈ëbeli esem√©nyek</button>
      <button class="simple-button" (click)="resetFilters()">‚ôªÔ∏è Alap√©rtelmezett n√©zet</button>
    </div>

    <button class="simple-button" (click)="onAddNewEvent()">√öj esem√©ny</button>
  </div>

  <!-- Esem√©nyek list√°ja -->
  <div class="event-list-view">
    <div *ngFor="let event of filteredEvents" class="event-item" [ngClass]="{'editing': event.editing}">
      <div class="event-content">
        <!-- Megjelen√≠t√©s -->
        <div class="event-info" *ngIf="!event.editing">
          <div class="event-title">{{ event.name }}</div>
          <div class="event-time">{{ event.startTime | date: 'short' }} ‚Äì {{ event.endTime | date: 'short' }}</div>
        </div>

        <!-- Szerkeszt√©s -->
        <div class="event-info" *ngIf="event.editing">
          <input [(ngModel)]="event.name" class="event-input" />
          <input type="datetime-local" [(ngModel)]="event.startTime" class="event-input" />
          <input type="datetime-local" [(ngModel)]="event.endTime" class="event-input" />
        </div>

        <!-- Gombok -->
        <div class="edit-buttons">
          <button *ngIf="!event.editing" (click)="onEdit(event)" class="simple-button">Szerkeszt√©s</button>
          <button (click)="deleteEvent(event)" class="cancel simple-button">T√∂rl√©s</button>
          <ng-container *ngIf="event.editing">
            <button (click)="saveEvent(event)" class="save simple-button">Ment√©s</button>
            <button (click)="cancelEdit(event)" class="cancel simple-button">M√©gse</button>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Keres≈ës√°v (fixen a jobb oldalon) -->
<div class="search-sidebar">
  <!-- √âl≈ë keres≈ë -->
  <input
    type="text"
    placeholder="üîç Keres√©s esem√©nyre..."
    [(ngModel)]="searchQuery"
    (input)="onSearchChange()"
  />

  <!-- Keres√©si √°llapot -->
  <div class="search-status" *ngIf="searchQuery && filteredEvents.length === 0">
    Nincs tal√°lat.
  </div>

  <!-- Keres√©si tal√°latok -->
  <div class="search-results" *ngIf="filteredEvents.length > 0">
    <div
      *ngFor="let result of filteredEvents"
      class="result-item"
      (click)="scrollToEvent(result)"
    >
      {{ result.name }}<br />
      <small>{{ result.startTime | date: 'short' }}</small>
    </div>
  </div>
</div>
